{
  "version": 3,
  "sources": ["src/app/common/searchpage/searchpage.component.ts", "src/app/common/searchpage/searchpage.component.html"],
  "sourcesContent": ["import { Component } from '@angular/core';\r\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\r\n\r\nimport { CartService } from '../post-login/cart.service';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SearchBarComponent } from '../header/search-bar/search-bar.component';\r\nimport { Observable, map } from 'rxjs';\r\nimport { KeyValue, KeyValuePipe } from '@angular/common';\r\nimport { JsonPipe } from '@angular/common';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { productType } from '../../constants.ts/types';\r\nimport { imagesCupcakes, imagesDoughnut } from '../../constants.ts/constants';\r\n@Component({\r\n  selector: 'app-searchpage',\r\n  standalone: true,\r\n  imports: [\r\n    SearchBarComponent,\r\n    MatCardModule,\r\n    MatButtonModule,\r\n    JsonPipe,\r\n    KeyValuePipe,\r\n\r\n    CommonModule,\r\n  ],\r\n  templateUrl: './searchpage.component.html',\r\n  styleUrl: './searchpage.component.scss',\r\n})\r\nexport class SearchpageComponent {\r\n  state: any;\r\n  filteredItem: any = [];\r\n\r\n  cartValue: any = {\r\n    item: {},\r\n    quantity: 0,\r\n    date: new Date().toDateString(),\r\n    grandTotal: 0,\r\n    totalPrice: 0,\r\n  };\r\n  //allItems = imagesCupcakes.concat(imagesDoughnut);\r\n  allItems = [...imagesCupcakes, ...imagesDoughnut];\r\n  constructor(\r\n    public activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    public cart: CartService\r\n  ) {\r\n    // this._location = location;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.activatedRoute.queryParams.subscribe((params) => {\r\n      this.state = params['name'];\r\n      this.filterList(this.state);\r\n    });\r\n\r\n    // console.log('state', this.state);\r\n  }\r\n  filterList(searchStr: string) {\r\n    // console.log('this.allItems', this.allItems[0]);\r\n    this.filteredItem = [];\r\n    for (let i: number = 0; i < this.allItems.length; i++) {\r\n      for (let j: number = 0; j < this.allItems[i].length; j++) {\r\n        if (this.allItems[i][j].category.includes(this.state)) {\r\n          this.allItems[i][j].category.unshift(this.state);\r\n\r\n          const index = this.allItems[i][j].category.lastIndexOf(this.state);\r\n          if (index > -1) {\r\n            // only splice array when item is found\r\n            this.allItems[i][j].category.splice(index, 1); // 2nd parameter means remove one item only\r\n          }\r\n\r\n          //  this.allItems[i][j].category.splice();\r\n          this.filteredItem.push(this.allItems[i][j]);\r\n        }\r\n      }\r\n    }\r\n    /*  this.allItems.map((item: any) => {\r\n      // console.log('item', item);\r\n      this.filteredItem.push(\r\n        item.map((_item: any) => {\r\n          console.log('_item 123', _item);\r\n          if (_item['category'] && _item['category'].includes(this.state)) {\r\n            return _item;\r\n          }\r\n        })\r\n      );\r\n    }); */\r\n\r\n    // console.log('filterlist', this.filteredItem);\r\n  }\r\n  updateSearch(newItem: string) {\r\n    this.state = newItem;\r\n    // console.log('this.state', this.state);\r\n    this.filterList(this.state);\r\n  }\r\n  productDetails(item: productType) {\r\n    if (this.state) {\r\n      this.router.navigate([`product-details/${item.id}`], {\r\n        state: { item: item, state: this.state },\r\n      });\r\n    }\r\n  }\r\n\r\n  addProductToCart(product: any) {\r\n    this.cartValue = {\r\n      item: product,\r\n      quantity: Number(1),\r\n      date: new Date().toDateString(),\r\n      totalPrice: Number(0),\r\n      grandTotal: Number(0),\r\n    };\r\n\r\n    this.cart.addToCart(this.cartValue);\r\n    this.cart.showhideSideCartFunct(true);\r\n  }\r\n}\r\n", "<h1 class=\"d-flex w-100\">Search Results</h1>\r\n<div class=\"d-flex flex-wrap justify-content-center p-3\" id=\"search-page\">\r\n  <br />\r\n  <p class=\"d-flex w-100\">\r\n    Showing Results for :<span class=\"italic\">\r\n      {{ this.state }}\r\n    </span>\r\n  </p>\r\n  <app-search-bar\r\n    (newItemEvent)=\"updateSearch($event)\"\r\n    style=\"width: 50%\"\r\n    class=\"mt-3 p-3\"\r\n    [val]=\"state\"\r\n  />\r\n\r\n  <div class=\"row gx-5 d-flex justify-content-left w-100 py-5\">\r\n    @for (img of filteredItem; track img; let i = $index) {\r\n\r\n    <div class=\"col-3 flex-col\">\r\n      <mat-card\r\n        class=\"example-card cursor-pointer my-5 small_col_size_search\"\r\n        appearance=\"outlined\"\r\n      >\r\n        <mat-card-header class=\"justify-content-center text-center\">\r\n          <mat-card-title class=\"justify-content-center text-center\">{{\r\n            img.name\r\n          }}</mat-card-title>\r\n          <mat-card-subtitle>Novelity Cup Cake </mat-card-subtitle>\r\n        </mat-card-header>\r\n        <img\r\n          mat-card-image\r\n          class=\"pt-2\"\r\n          [src]=\"img.src\"\r\n          alt=\"Photo of a Shiba Inu\"\r\n        />\r\n        <mat-card-content>\r\n          <p class=\"pt-3\">{{ img.description }}</p>\r\n        </mat-card-content>\r\n        <mat-card-actions class=\"flex-wrap\">\r\n          <ul class=\"d-flex flex-row flex-wrap p-0\">\r\n            @for (cat of img.category; track cat; let i = $index) {\r\n            <li\r\n              class=\"badge m-2 flex-col p-2\"\r\n              style=\"font-size: 14px; border-radius: 24px\"\r\n              [ngClass]=\"{\r\n                'bg-primary': cat === state,\r\n                ' bg-secondary': cat !== state\r\n              }\"\r\n            >\r\n              <span>{{ cat }}</span>\r\n            </li>\r\n            }\r\n          </ul>\r\n          <br />\r\n          <div>\r\n            <button\r\n              mat-button\r\n              class=\"d-inline-flex flex-row\"\r\n              (click)=\"productDetails(img)\"\r\n            >\r\n              VIEW DETAILS\r\n            </button>\r\n            <button\r\n              mat-button\r\n              class=\"btn btn-primary-outline d-inline-flex flex-row\"\r\n              style=\"width: auto\"\r\n              (click)=\"addProductToCart(img)\"\r\n            >\r\n              ADD TO CART\r\n            </button>\r\n          </div>\r\n        </mat-card-actions>\r\n      </mat-card>\r\n    </div>\r\n    }\r\n  </div>\r\n</div>\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyCY,IAAA,yBAAA,GAAA,MAAA,EAAA,EAOC,GAAA,MAAA;AACO,IAAA,iBAAA,CAAA;AAAS,IAAA,uBAAA,EAAO;;;;;AALtB,IAAA,qBAAA,WAAA,0BAAA,GAAA,KAAA,WAAA,OAAA,OAAA,WAAA,OAAA,KAAA,CAAA;AAKM,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,MAAA;;;;;;AA/BhB,IAAA,yBAAA,GAAA,OAAA,CAAA,EAA4B,GAAA,YAAA,CAAA,EAIzB,GAAA,mBAAA,CAAA,EAC6D,GAAA,kBAAA,CAAA;AACC,IAAA,iBAAA,CAAA;AAEzD,IAAA,uBAAA;AACF,IAAA,yBAAA,GAAA,mBAAA;AAAmB,IAAA,iBAAA,GAAA,oBAAA;AAAkB,IAAA,uBAAA,EAAoB;AAE3D,IAAA,oBAAA,GAAA,OAAA,CAAA;AAMA,IAAA,yBAAA,GAAA,kBAAA,EAAkB,GAAA,KAAA,CAAA;AACA,IAAA,iBAAA,EAAA;AAAqB,IAAA,uBAAA,EAAI;AAE3C,IAAA,yBAAA,IAAA,oBAAA,EAAA,EAAoC,IAAA,MAAA,EAAA;AAEhC,IAAA,2BAAA,IAAA,4CAAA,GAAA,GAAA,MAAA,IAAA,mCAAA;AAYF,IAAA,uBAAA;AACA,IAAA,oBAAA,IAAA,IAAA;AACA,IAAA,yBAAA,IAAA,KAAA,EAAK,IAAA,UAAA,EAAA;AAID,IAAA,qBAAA,SAAA,SAAA,+DAAA;AAAA,YAAA,SAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,eAAA,MAAA,CAAmB;IAAA,CAAA;AAE5B,IAAA,iBAAA,IAAA,gBAAA;AACF,IAAA,uBAAA;AACA,IAAA,yBAAA,IAAA,UAAA,EAAA;AAIE,IAAA,qBAAA,SAAA,SAAA,+DAAA;AAAA,YAAA,SAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,iBAAA,MAAA,CAAqB;IAAA,CAAA;AAE9B,IAAA,iBAAA,IAAA,eAAA;AACF,IAAA,uBAAA,EAAS,EACL,EACW,EACV;;;;AAhDoD,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,OAAA,IAAA;AAQ3D,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,OAAA,OAAA,KAAA,uBAAA;AAIgB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,OAAA,WAAA;AAId,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,OAAA,QAAA;;;ADZN,IAAO,uBAAP,MAAO,qBAAmB;EAa9B,YACS,gBACC,QACD,MAAiB;AAFjB,SAAA,iBAAA;AACC,SAAA,SAAA;AACD,SAAA,OAAA;AAdT,SAAA,eAAoB,CAAA;AAEpB,SAAA,YAAiB;MACf,MAAM,CAAA;MACN,UAAU;MACV,OAAM,oBAAI,KAAI,GAAG,aAAY;MAC7B,YAAY;MACZ,YAAY;;AAGd,SAAA,WAAW,CAAC,GAAG,gBAAgB,GAAG,cAAc;EAOhD;EAEA,WAAQ;AACN,SAAK,eAAe,YAAY,UAAU,CAAC,WAAU;AACnD,WAAK,QAAQ,OAAO,MAAM;AAC1B,WAAK,WAAW,KAAK,KAAK;IAC5B,CAAC;EAGH;EACA,WAAW,WAAiB;AAE1B,SAAK,eAAe,CAAA;AACpB,aAAS,IAAY,GAAG,IAAI,KAAK,SAAS,QAAQ,KAAK;AACrD,eAAS,IAAY,GAAG,IAAI,KAAK,SAAS,CAAC,EAAE,QAAQ,KAAK;AACxD,YAAI,KAAK,SAAS,CAAC,EAAE,CAAC,EAAE,SAAS,SAAS,KAAK,KAAK,GAAG;AACrD,eAAK,SAAS,CAAC,EAAE,CAAC,EAAE,SAAS,QAAQ,KAAK,KAAK;AAE/C,gBAAM,QAAQ,KAAK,SAAS,CAAC,EAAE,CAAC,EAAE,SAAS,YAAY,KAAK,KAAK;AACjE,cAAI,QAAQ,IAAI;AAEd,iBAAK,SAAS,CAAC,EAAE,CAAC,EAAE,SAAS,OAAO,OAAO,CAAC;UAC9C;AAGA,eAAK,aAAa,KAAK,KAAK,SAAS,CAAC,EAAE,CAAC,CAAC;QAC5C;MACF;IACF;EAcF;EACA,aAAa,SAAe;AAC1B,SAAK,QAAQ;AAEb,SAAK,WAAW,KAAK,KAAK;EAC5B;EACA,eAAe,MAAiB;AAC9B,QAAI,KAAK,OAAO;AACd,WAAK,OAAO,SAAS,CAAC,mBAAmB,KAAK,EAAE,EAAE,GAAG;QACnD,OAAO,EAAE,MAAY,OAAO,KAAK,MAAK;OACvC;IACH;EACF;EAEA,iBAAiB,SAAY;AAC3B,SAAK,YAAY;MACf,MAAM;MACN,UAAU,OAAO,CAAC;MAClB,OAAM,oBAAI,KAAI,GAAG,aAAY;MAC7B,YAAY,OAAO,CAAC;MACpB,YAAY,OAAO,CAAC;;AAGtB,SAAK,KAAK,UAAU,KAAK,SAAS;AAClC,SAAK,KAAK,sBAAsB,IAAI;EACtC;;;mBAtFW,sBAAmB,4BAAA,cAAA,GAAA,4BAAA,MAAA,GAAA,4BAAA,WAAA,CAAA;AAAA;qFAAnB,sBAAmB,WAAA,CAAA,CAAA,gBAAA,CAAA,GAAA,YAAA,MAAA,UAAA,CAAA,6BAAA,GAAA,OAAA,IAAA,MAAA,GAAA,QAAA,CAAA,CAAA,GAAA,UAAA,OAAA,GAAA,CAAA,MAAA,eAAA,GAAA,UAAA,aAAA,0BAAA,KAAA,GAAA,CAAA,GAAA,QAAA,GAAA,CAAA,GAAA,QAAA,OAAA,GAAA,SAAA,OAAA,GAAA,gBAAA,KAAA,GAAA,CAAA,GAAA,OAAA,QAAA,UAAA,wBAAA,SAAA,MAAA,GAAA,CAAA,GAAA,SAAA,UAAA,GAAA,CAAA,cAAA,YAAA,GAAA,gBAAA,kBAAA,QAAA,uBAAA,GAAA,CAAA,GAAA,0BAAA,aAAA,GAAA,CAAA,kBAAA,IAAA,OAAA,wBAAA,GAAA,QAAA,GAAA,KAAA,GAAA,CAAA,GAAA,MAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,GAAA,UAAA,YAAA,aAAA,KAAA,GAAA,CAAA,GAAA,SAAA,OAAA,YAAA,OAAA,GAAA,aAAA,QAAA,iBAAA,QAAA,GAAA,SAAA,GAAA,CAAA,cAAA,IAAA,GAAA,iBAAA,YAAA,GAAA,OAAA,GAAA,CAAA,cAAA,IAAA,GAAA,OAAA,uBAAA,iBAAA,YAAA,GAAA,SAAA,QAAA,GAAA,OAAA,CAAA,GAAA,UAAA,SAAA,6BAAA,IAAA,KAAA;AAAA,MAAA,KAAA,GAAA;AC5BhC,IAAA,yBAAA,GAAA,MAAA,CAAA;AAAyB,IAAA,iBAAA,GAAA,gBAAA;AAAc,IAAA,uBAAA;AACvC,IAAA,yBAAA,GAAA,OAAA,CAAA;AACE,IAAA,oBAAA,GAAA,IAAA;AACA,IAAA,yBAAA,GAAA,KAAA,CAAA;AACE,IAAA,iBAAA,GAAA,wBAAA;AAAqB,IAAA,yBAAA,GAAA,QAAA,CAAA;AACnB,IAAA,iBAAA,CAAA;AACF,IAAA,uBAAA,EAAO;AAET,IAAA,yBAAA,GAAA,kBAAA,CAAA;AACE,IAAA,qBAAA,gBAAA,SAAA,oEAAA,QAAA;AAAA,aAAgB,IAAA,aAAA,MAAA;IAAoB,CAAA;AADtC,IAAA,uBAAA;AAOA,IAAA,yBAAA,GAAA,OAAA,CAAA;AACE,IAAA,2BAAA,IAAA,qCAAA,IAAA,GAAA,OAAA,GAAA,mCAAA;AA2DF,IAAA,uBAAA,EAAM;;;AAtEF,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,KAAA,IAAA,OAAA,GAAA;AAOF,IAAA,oBAAA;AAAA,IAAA,qBAAA,OAAA,IAAA,KAAA;AAIA,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,IAAA,YAAA;;;EDCA;EACA;EAAa;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EACb;EAAe;EAIf;EAAY;AAAA,GAAA,QAAA,CAAA,yQAAA,EAAA,CAAA;AAKV,IAAO,sBAAP;;6EAAO,qBAAmB,EAAA,WAAA,uBAAA,UAAA,yDAAA,YAAA,GAAA,CAAA;AAAA,GAAA;",
  "names": []
}
