import{ca as e,k as o}from"./chunk-DMZUDF35.js";var l=(()=>{let r=class r{constructor(){this.cart=[],this.ordersChanged=new o(this.cart),this.showSideCart=new o(!1),this.grandTotalValue=0,this.grandTotal=new o(this.grandTotalValue)}addToCart(a){a&&(this.cart.push(a),this.ordersChanged.next(this.cart),this.calculateGrandTotal())}calculateGrandTotal(){if(this.cart.length==0&&this.grandTotal.next(0),this.cart.length>=1){this.cart.map(t=>{t.grandTotal=t.item.price*t.quantity,console.log("element.map",t),console.log("_item.grandTotal",t.grandTotal),this.grandTotalValue+=t.grandTotal,console.log("this.grandTotalValue",this.grandTotalValue)});let a=this.cart.reduce((t,i)=>t+parseInt(i.grandTotal),0);console.log("sumWithInitial",a),this.grandTotal.next(a)}}updateCart(a,t){this.cart.forEach((i,n)=>{i.item.id===a.item.id&&(i.quantity=t,i.totalPrice=Number(t)*Number(i.item.price))}),this.calculateGrandTotal()}getCart(){return this.ordersChanged}removeFromCart(a){console.log("console here");let t=this.cart.indexOf(a);this.cart.splice(t,1),this.calculateGrandTotal()}showSideCartFunct(){this.showSideCart.next(!0)}hideSideCartFunct(){this.showSideCart.next(!1)}showhideSideCartFunct(a){this.showSideCart.next(a)}};r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e({token:r,factory:r.\u0275fac,providedIn:"root"});let s=r;return s})();export{l as a};
